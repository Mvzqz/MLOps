schema: '2.0'
stages:
  clean:
    cmd: python src/mlops_pruebas/data/clean_data.py 
      data/raw/seoul_bike_sharing_modified.csv 
      data/clean/clean_seoul_bike_data.csv
    deps:
    - path: data/raw/seoul_bike_sharing_modified.csv
      hash: md5
      md5: 0666539abbace0cc2c12df17b06046d9
      size: 771920
    - path: src/mlops_pruebas/data/clean_data.py
      hash: md5
      md5: adde4a517fade599e10ccfe53090bf84
      size: 3439
    outs:
    - path: data/clean/clean_seoul_bike_data.csv
      hash: md5
      md5: a01a780c8cb1958d1f29ca64cf97ca1b
      size: 762811
  features:
    cmd: poetry run python -m mlops.features
    deps:
    - path: data/interim/seoul_bike_sharing_cleaned.csv
      hash: md5
      md5: ce45aa3fd7a2363439fb6858343c5b85
      size: 689691
    - path: mlops/features.py
      hash: md5
      md5: 4b93f3c9f0960482ef4bb82d16c49def
      size: 6998
    outs:
    - path: data/processed/seoul_bike_sharing_featured.csv
      hash: md5
      md5: 448491a4f48224a89cc582a82295c4a9
      size: 1254470
  dataset:
    cmd: poetry run python -m mlops.dataset
    deps:
    - path: data/raw/seoul_bike_sharing.csv
      hash: md5
      md5: 0666539abbace0cc2c12df17b06046d9
      size: 771920
    - path: mlops/dataset.py
      hash: md5
      md5: 40b32b1d43c93ef8de1eae26c6249498
      size: 5318
    outs:
    - path: data/interim/seoul_bike_sharing_cleaned.csv
      hash: md5
      md5: ce45aa3fd7a2363439fb6858343c5b85
      size: 689691
  train:
    cmd: poetry run python -m mlops.modeling.train
    deps:
    - path: data/processed/seoul_bike_sharing_featured.csv
      hash: md5
      md5: 448491a4f48224a89cc582a82295c4a9
      size: 1254470
    - path: mlops/modeling/train.py
      hash: md5
      md5: b6fe621e17a7a4d2da82aeffb6dd69a4
      size: 10187
    outs:
    - path: models/best_model.pkl
      hash: md5
      md5: 65925fdd7cfdc43695e49db6df17c279
      size: 338232
  predict:
    cmd: poetry run python -m mlops.modeling.predict
    deps:
    - path: data/processed/seoul_bike_sharing_featured.csv
      hash: md5
      md5: 448491a4f48224a89cc582a82295c4a9
      size: 1254470
    - path: mlops/modeling/predict.py
      hash: md5
      md5: 81c3018eeb35ae3253f1489ab5297b39
      size: 2903
    - path: models/best_model.pkl
      hash: md5
      md5: 65925fdd7cfdc43695e49db6df17c279
      size: 338232
    outs:
    - path: data/processed/test_predictions.csv
      hash: md5
      md5: 2d876ef5c1c1ec560e78bfda5ccacd06
      size: 199113
  plots:
    cmd: poetry run python -m mlops.plots
    deps:
    - path: data/processed/seoul_bike_sharing_featured.csv
      hash: md5
      md5: 448491a4f48224a89cc582a82295c4a9
      size: 1254470
    - path: data/processed/test_predictions.csv
      hash: md5
      md5: 2d876ef5c1c1ec560e78bfda5ccacd06
      size: 199113
    - path: mlops/plots.py
      hash: md5
      md5: 6dab63d5169a87cfe51e772d704b26d4
      size: 4042
    - path: models/best_model.pkl
      hash: md5
      md5: 65925fdd7cfdc43695e49db6df17c279
      size: 338232
    outs:
    - path: reports/figures/correlation_heatmap.png
      hash: md5
      md5: c5129bcaf35dc4dfb2e01764222e18d7
      size: 264762
    - path: reports/figures/demand_by_hour.png
      hash: md5
      md5: dc6b677b093f739e63b3f5e96ad28ade
      size: 53768
    - path: reports/figures/target_distribution.png
      hash: md5
      md5: 43740887049a8ab198b9c05f7ac59163
      size: 32163
